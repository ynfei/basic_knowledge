# #pragma once 与#ifndef的区别

两种方法都能够防止同一个文件被include多次

- #ifndef

  - ```c++
    #ifndef _MYHEADER_H_
    #define _MYHEADER_H_
    ...
    #endif
    ```

  - `#ifdef`的方式依赖于宏名字不能冲突。优点是：这种操作不仅能保证同一个文件不会被包含两次，也能保证内容完全相同的两个文件不会被同时包含。缺点是：如果给不同头文件的宏名不小心“撞车”，会导致头文件明明存在，编译器却找不到声明的情况。

  - `#pragma once`由编译器提供保证：同一个文件不会被包含多次。注意这里的**同一个文件**是指物理上的一个文件，而不是指内容上相同的文件。优点是：不会出现宏名碰撞引发的奇怪问题。对应的缺点就是如果某个头文件有多份拷贝，本方法不能保证它们被重复包含。而且`#pragma once`依赖于编译器，一些老的编译器不支持，而`#ifndef`可移植性非常好。