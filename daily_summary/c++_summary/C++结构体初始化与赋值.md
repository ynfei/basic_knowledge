# C++结构体初始化与赋值

- 结构体的初始化

  结构体对象的初始化有多种方式，分为指定初始化，顺序初始化，构造函数初始化。

  ```c++
  struct A
  {
    int b;
    int c;
  };
  ```

  - 指定初始化。实现方式有两种方式，一种是通过点号加赋值号实现；另外一种通过冒号实现。前一种有很多编译器不支持。

    ```c++
    //点+赋值号
    struct A a = {.b = 1, .c = 2};
    
    //冒号
    struct A a = {b:1, c:2};
    ```

    使用指定初始化，一个明显的优点是成员初始化顺序和个数可变，并且扩展性好。

  - 顺序初始化

    ```c++
    struct A a = {1, 2};
    ```

    顺序初始化书写简单，比较常用，相比于指定初始化方法，无法变更初始化顺序，灵活性较差。

  - 构造函数初始化

    ```c++
    struct A
    {
        A(int a, int b)
        {
            this->a = a;
            this->b = b;
        }
        int a;
        int b;
    };
    ```

    **注意**：如果定义了构造函数的话，就不能使用大括号进行初始化了，即不能再使用指定初始化与顺序初始化。

- 结构体的赋值

  **注意**：结构体变量的赋值是不能采用大括号的方式进行赋值的。

  - 使用`memset`对结构体变量进行置空操作：

    ```c++
    struct A a;
    memset(&a,0, sizeof(a));
    ```

  - 依次给每个成员变量进行赋值

    ```c++
    struct A a;
    a.b = 1;
    a.c = 1;
    ```

  - 使用已有结构体变量给另外一个结构体变量赋值

    ```c++
    struct A a = {1, 2};
    struct A b;
    b = a;
    ```

    

